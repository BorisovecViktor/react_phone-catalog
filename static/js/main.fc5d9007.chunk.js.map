{"version":3,"sources":["helpers/api.ts","constants/index.ts","store/products.ts","store/productsDetails.ts","store/error.ts","store/filter.ts","store/sort.ts","store/pagination.ts","store/cart.ts","store/favourites.ts","store/search.ts","store/burger.ts","store/loading.ts","store/index.ts","components/Logo.tsx","components/NavBurger.tsx","components/NavHeader.tsx","components/Favorites.tsx","components/Cart.tsx","components/Search.tsx","helpers/debounce.ts","components/Header.tsx","components/NavFooter.tsx","components/Footer.tsx","helpers/carouselSort.ts","helpers/banners.ts","components/BannerSlider.tsx","components/ProductPrice.tsx","components/AddProductBtn.tsx","components/FavoriteBtn.tsx","components/ProductCard.tsx","components/ProductsСarousel.tsx","helpers/categoriesFilter.ts","components/Category.tsx","components/Categories.tsx","components/Spinner.tsx","pages/HomePage.tsx","components/CartItem.tsx","components/CartList.tsx","pages/CartPage.tsx","components/Pagination.tsx","components/ProductsList.tsx","components/Breadcrumb.tsx","components/Breadcrumbs.tsx","pages/PhonesPage.tsx","pages/TabletsPage.tsx","pages/NotFoundPage.tsx","pages/CheckoutPage.tsx","pages/FavoritesPage.tsx","pages/AccessoriesPage.tsx","components/GoBackButton.tsx","components/ProductGallery.tsx","components/ProductDescription.tsx","components/ProductTechSpecs.tsx","components/ProductShortSpecs.tsx","pages/ProductDetailsPage.tsx","App.tsx","index.tsx"],"names":["API_URL","fetchProducts","a","fetch","response","json","fetchProductsDetails","productId","res","FILTERS","SORT_BY","priceAsc","priceDesc","hotPrice","newModels","PRODUCT_PATHS","phone","tablet","setProducts","products","type","reducer","action","setProductsDetails","productsDetails","setError","errorMessage","filter","field","setSortBy","sortBy","setPerPage","perPage","defaultPaginationState","page","queryReducer","paginationState","removeFromCart","id","setCartAmount","amount","cart","quantity","product","map","result","favourites","setSearchQuery","searchQuery","toLowerCase","trim","toggleNavBurger","isNavBurgerOpen","loading","rootReducer","combineReducers","productsReducer","productsDetailsReducer","filterBy","filterReducer","sortReducer","errorReducer","pagination","paginationReducer","cartReducer","favouritesReducer","searchReducer","navBurgerReducer","isLoading","loadingReducer","getProducts","state","getproductsDetails","getCart","getCartLength","length","getFavourites","getSearchQuery","getIsNavBurgerOpen","getIsLoading","getCategoryLength","item","getVisibleProducts","visibleProducts","name","includes","sort","b","price","discount","age","endId","startId","_product","index","getCartTotal","cartTotal","forEach","cartProduct","persistedState","localStorage","getItem","JSON","parse","store","createStore","composeWithDevTools","applyMiddleware","thunk","subscribe","setItem","stringify","getState","Logo","to","className","src","alt","NavBurger","dispatch","useDispatch","burger","useSelector","cn","onClick","NavHeader","links","title","url","key","exact","activeClassName","pathname","search","window","scrollTo","innerWidth","Favorites","favoritesCount","Cart","CartCount","Search","currentLocation","history","useHistory","location","useLocation","inputEl","useRef","searchParams","URLSearchParams","useState","get","query","setQuery","handleSearchInput","useCallback","func","delay","timeoutId","args","clearTimeout","setTimeout","debounce","value","set","delete","push","toString","useEffect","ref","onChange","e","currentTarget","placeholder","current","focus","Header","useMemo","split","slice","locationLength","some","path","NavFooter","Footer","isScroll","setIsScroll","backToTop","top","behavior","onscroll","pageYOffset","aria-label","carouselSort","sortType","banners","url768","url560","description","BannerSlider","activeBanner","setActiveBanner","position","setPosition","handleNextBanner","nextFrame","setInterval","clearInterval","style","transform","banner","srcSet","media","ProductPrice","AddProductBtn","isAddedToCart","firstClick","setFirstClick","cartButtonText","setCartButtonText","classNames","stopPropagation","addToCart","onMouseEnter","onMouseLeave","FavoriteBtn","isAddedToFavourites","removeFromFavourites","addToFavourites","ProductCard","imageUrl","screen","capacity","ram","ProductsСarousel","disableLeftButton","setDisableLeftButton","disableRightButton","setDisableRightButton","arial-label","disabled","categoriesFilter","filterType","Category","link","count","Categories","categories","Spinner","HomePage","hotPrices","newBrands","CartItem","String","inputQuantity","setInputQuantity","maxLength","Number","target","onKeyUp","blur","onBlur","CartList","TransitionGroup","tag","CSSTransition","timeout","CartPage","totalCart","cartLength","goBack","Pagination","total","pagesCount","Math","ceil","moveToPage","pageNumber","pagesOptions","Array","from","_e","i","uuidv4","sortByTitles","ProductsList","categoryLength","showSortBy","setShowSortBy","showPerPage","setShowPerPage","setPage","perPageOptions","productsAmount","options","urlParamError","trunc","handlePerPage","perPageOption","Object","values","sortByHandler","Breadcrumb","label","isLast","Breadcrumbs","preparedLabels","preparedBreadcrumbs","reduce","accum","crumb","PhonesPage","TabletsPage","NotFoundPage","CheckoutPage","FavoritesPage","favouriteProduct","AccessoriesPage","GoBackButton","ProductGallery","images","currentImg","setCurrentImg","href","preventDefault","ProductDescription","additionalFeatures","ProductTechSpecs","display","hardware","storage","camera","battery","sizeAndWeight","screenSize","screenResolution","cpu","flash","primary","weight","ProductShortSpecs","ProductDetailsPage","useParams","setProduct","currentProduct","find","api","message","App","enter","exit","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc5d9007.chunk.js","sourcesContent":["const API_URL = 'https://borisovecviktor.github.io/react_phone-catalog/api';\n\nexport const fetchProducts = async (): Promise<Product[]> => {\n  const response = await fetch(`${API_URL}/products.json`);\n\n  return response.json();\n};\n\nexport const fetchProductsDetails = async (productId: string): Promise<ProductDetails> => {\n  const res = await fetch(`${API_URL}/products/${productId}.json`);\n\n  return res.json();\n}\n","export const FILTERS = {\n  phones: 'phone',\n  tablets: 'tablet',\n  accessories: 'accessories',\n};\n\nexport const SORT_BY = {\n  priceAsc: 'priceAsc',\n  priceDesc: 'priceDesc',\n  hotPrice: 'hotPrice',\n  newModels: 'newModels',\n};\n\nexport const PRODUCT_PATHS: ProductPaths = {\n  phone: 'phones',\n  tablet: 'tablets',\n};\n","import { Action } from 'redux';\n\n\nconst SET_PRODUCTS = 'SET_PRODUCTS';\n\ntype SetProductsAction = Action<typeof SET_PRODUCTS> & {\n  products: Product[];\n};\n\nexport const setProducts = (products: Product[]) => ({ type: SET_PRODUCTS, products });\n\ntype PossibleActions = SetProductsAction;\n\nconst reducer = (products: Product[] = [], action: PossibleActions) => {\n  switch (action.type) {\n    case SET_PRODUCTS:\n      return action.products;\n\n    default:\n      return products;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_PRODUCTS_DETAILS = 'SET_PRODUCTS_DETAILS';\n\ntype SetProductsDetailsAction = Action<typeof SET_PRODUCTS_DETAILS> & {\n  productsDetails: ProductDetails;\n};\n\nexport const setProductsDetails = (productsDetails: ProductDetails) => ({\n  type: SET_PRODUCTS_DETAILS,\n  productsDetails,\n});\n\ntype PossibleActions = SetProductsDetailsAction;\n\nconst reducer = (productsDetails: ProductDetails = {} as ProductDetails, action: PossibleActions) => {\n  switch (action.type) {\n    case SET_PRODUCTS_DETAILS:\n      return action.productsDetails;\n\n    default:\n      return productsDetails;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\n\nconst SET_ERROR = 'SET_ERROR';\n\ntype SetErrorAction = Action<typeof SET_ERROR> & {\n  errorMessage: string;\n};\n\nexport const setError = (errorMessage: string) => ({ type: SET_ERROR, errorMessage });\n\ntype PossibleActions = SetErrorAction;\n\nconst reducer = (errorMessage = '', action: PossibleActions) => {\n  switch (action.type) {\n    case SET_ERROR:\n      return action.errorMessage;\n\n    default:\n      return errorMessage;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst FILTER_BY = 'FILTER_BY';\n\ntype FilterByAction = Action<typeof FILTER_BY> & {\n  field: string;\n};\n\nexport const setFilterBy = (field: string) => ({ type: FILTER_BY, field });\n\ntype PossibleActions = FilterByAction;\n\nconst reducer = (filter = '', action: PossibleActions) => {\n  switch (action.type) {\n    case FILTER_BY:\n      return action.field;\n\n    default:\n      return filter;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nimport { SORT_BY } from '../constants';\n\nconst SET_SORT_BY = 'SET_SORT_BY';\n\ntype SetSortByAction = Action<typeof SET_SORT_BY> & {\n  field: string;\n};\n\nexport const setSortBy = (field: string) => ({ type: SET_SORT_BY, field });\n\ntype PossibleActions = SetSortByAction;\n\nconst reducer = (sortBy = SORT_BY.newModels, action: PossibleActions) => {\n  switch (action.type) {\n    case SET_SORT_BY:\n      return action.field;\n\n    default:\n      return sortBy;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_PAGE = 'SET_PAGE';\nconst SET_PER_PAGE = 'SET_PER_PAGE';\n\ntype SetPageAction = Action<typeof SET_PAGE> & { page: number };\ntype SetPerPageAction = Action<typeof SET_PER_PAGE> & { perPage: number };\n\nexport const setPage = (page: number): SetPageAction => ({ type: SET_PAGE, page });\n\nexport const setPerPage = (perPage: number): SetPerPageAction => ({\n  type: SET_PER_PAGE,\n  perPage,\n});\n\ntype AllowedActions = SetPageAction | SetPerPageAction;\n\ntype PaginationState = {\n  page: number;\n  perPage: number;\n};\n\nconst defaultPaginationState = {\n  page: 1,\n  perPage: 10,\n};\n\nconst queryReducer = (\n  paginationState = defaultPaginationState,\n  action: AllowedActions,\n): PaginationState => {\n  switch (action.type) {\n    case SET_PAGE:\n      return {\n        ...paginationState,\n        page: action.page,\n      };\n\n    case SET_PER_PAGE:\n      return {\n        ...paginationState,\n        perPage: action.perPage,\n        page: 1,\n      };\n\n    default:\n      return paginationState;\n  }\n};\n\nexport default queryReducer;\n","import { Action } from 'redux';\n\n\nconst ADD_TO_CART = 'ADD_TO_CART';\nconst REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nconst SET_CART_AMOUNT = 'SET_CART_AMOUNT';\nconst CLEAR_CART = 'CLEAR_CART';\n\ntype addToCartAction = Action<typeof ADD_TO_CART> & {\n  id: string;\n  quantity: number;\n  product: Product;\n};\n\ntype removeFromCartAction = Action<typeof REMOVE_FROM_CART> & {\n  id: string;\n};\n\ntype setCartAmountAction = Action<typeof SET_CART_AMOUNT> & {\n  id: string;\n  amount: number;\n};\n\ntype clearCartAction = Action<typeof CLEAR_CART>;\n\nexport const addToCart = (id: string, quantity: number, product: Product) => ({\n  type: ADD_TO_CART,\n  id,\n  quantity,\n  product,\n});\n\nexport const removeFromCart = (id: string) => ({ type: REMOVE_FROM_CART, id });\n\nexport const setCartAmount = (id: string, amount: number) => ({\n  type: SET_CART_AMOUNT,\n  id,\n  amount,\n});\n\nexport const clearCart = () => ({ type: CLEAR_CART });\n\ntype PossibleActions = addToCartAction | removeFromCartAction | setCartAmountAction | clearCartAction;\n\nconst reducer = (cart: Cart[] = [], action: PossibleActions) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return [\n        ...cart,\n        {\n          id: action.id,\n          quantity: 1,\n          product: action.product,\n        },\n      ];\n\n    case REMOVE_FROM_CART:\n      return cart.filter(product => product.id !== action.id);\n\n    case SET_CART_AMOUNT:\n      return cart.map(product => {\n        if (product.id === action.id) {\n          let result = action.amount;\n\n          if (result > 99) {\n            result = 99;\n          }\n\n          return {\n            ...product,\n            quantity: result === 0 ? 1 : result,\n          };\n        }\n\n        return product;\n      });\n\n    case CLEAR_CART:\n      return [];\n\n    default:\n      return cart;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\n\nconst ADD_FAVOURITE = 'ADD_FAVOURITE';\nconst REMOVE_FAVOURITE = 'REMOVE_FAVOURITE';\n\ntype addToFavouritesAction = Action<typeof ADD_FAVOURITE> & {\n  product: Product;\n};\n\ntype removeFromFavouritesAction = Action<typeof REMOVE_FAVOURITE> & {\n  product: Product;\n};\n\nexport const addToFavourites = (product: Product) => ({ type: ADD_FAVOURITE, product });\nexport const removeFromFavourites = (product: Product) => (\n  {\n    type: REMOVE_FAVOURITE,\n    product,\n  });\n\ntype PossibleActions = addToFavouritesAction | removeFromFavouritesAction;\n\nconst reducer = (favourites: Product[] = [], action: PossibleActions) => {\n  switch (action.type) {\n    case ADD_FAVOURITE:\n      return [...favourites, action.product];\n\n    case REMOVE_FAVOURITE:\n      return [...favourites].filter(product => product.id !== action.product.id);\n\n    default:\n      return favourites;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst SET_QUERY = 'SET_QUERY';\n\ntype setQueryAction = Action<typeof SET_QUERY> & {\n  field: string;\n};\n\nexport const setSearchQuery = (field: string) => ({ type: SET_QUERY, field });\n\ntype PossibleActions = setQueryAction;\n\nconst reducer = (searchQuery = '', action: PossibleActions) => {\n  switch (action.type) {\n    case SET_QUERY:\n      return (action.field).toLowerCase().trim();\n\n    default:\n      return searchQuery;\n  }\n};\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst IS_NAV_BURGER_OPEN = 'IS_NAV_BURGER_OPEN';\n\ntype SetNavBurgerAction = Action<typeof IS_NAV_BURGER_OPEN> & {\n  isNavBurgerOpen: boolean;\n};\n\nexport const toggleNavBurger = (isNavBurgerOpen: boolean) => ({\n  type: IS_NAV_BURGER_OPEN,\n  isNavBurgerOpen,\n});\n\ntype PossibleActions = SetNavBurgerAction;\n\nconst reducer = (isNavBurgerOpen = false, action: PossibleActions) => {\n  switch (action.type) {\n    case IS_NAV_BURGER_OPEN:\n      return !action.isNavBurgerOpen;\n\n    default: return isNavBurgerOpen;\n  }\n}\n\nexport default reducer;\n","import { Action } from 'redux';\n\nconst START_LOADING = 'START_LOADING';\nconst FINISH_LOADING = 'FINISH_LOADING';\n\ntype SetLoading = Action<typeof START_LOADING | typeof FINISH_LOADING> & {\n  loading: boolean;\n};\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const finishLoading = () => ({ type: FINISH_LOADING });\n\ntype PossibleActions = SetLoading;\n\nconst reducer = (loading = false, action: PossibleActions) => {\n  switch (action.type) {\n    case START_LOADING:\n      return true;\n\n    case FINISH_LOADING:\n      return false;\n\n    default: return loading;\n  }\n}\n\nexport default reducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { Dispatch } from 'react';\n\nimport * as api from '../helpers/api';\nimport { SORT_BY } from '../constants';\nimport productsReducer, { setProducts } from './products';\nimport productsDetailsReducer, { setProductsDetails } from './productsDetails';\nimport errorReducer, { setError } from './error';\nimport filterReducer from './filter';\nimport sortReducer from './sort';\nimport paginationReducer from './pagination';\nimport cartReducer from './cart';\nimport favouritesReducer from './favourites';\nimport searchReducer from './search';\nimport navBurgerReducer from './burger';\nimport loadingReducer, { startLoading, finishLoading } from './loading';\n\n\nconst rootReducer = combineReducers({\n  products: productsReducer,\n  productsDetails: productsDetailsReducer,\n  filterBy: filterReducer,\n  sortBy: sortReducer,\n  errorMessage: errorReducer,\n  pagination: paginationReducer,\n  cart: cartReducer,\n  favourites: favouritesReducer,\n  searchQuery: searchReducer,\n  isNavBurgerOpen: navBurgerReducer,\n  isLoading: loadingReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport const getProducts = (state: RootState) => state.products;\nexport const getproductsDetails = (state: RootState) => state.productsDetails;\nexport const getPerPage = (state: RootState) => state.pagination.perPage;\nexport const getPage = (state: RootState) => state.pagination.page;\nexport const getCart = (state: RootState) => state.cart;\nexport const getCartLength = (state: RootState) => state.cart.length;\nexport const getFavourites = (state: RootState) => state.favourites;\nexport const getSearchQuery = (state: RootState) => state.searchQuery;\nexport const getIsNavBurgerOpen = (state: RootState) => state.isNavBurgerOpen;\nexport const getIsLoading = (state: RootState) => state.isLoading;\n\nexport const loadProducts = () => {\n  return async (dispatch: Dispatch<unknown>) => {\n    dispatch(setError(''));\n    dispatch(startLoading());\n\n    try {\n      const products = await api.fetchProducts();\n\n      dispatch(setProducts(products));\n      dispatch(finishLoading());\n    } catch (e) {\n      dispatch(setError(e.message));\n      dispatch(finishLoading());\n    }\n  };\n};\n\nexport const loadProductsDetails = (productId: string) => {\n  return async (dispatch: Dispatch<unknown>) => {\n    dispatch(setError(''));\n    dispatch(startLoading());\n\n    try {\n      const productsDetails = await api.fetchProductsDetails(productId);\n\n      dispatch(setProductsDetails(productsDetails));\n      dispatch(finishLoading());\n    } catch (e) {\n      dispatch(setError(e.message));\n      dispatch(finishLoading());\n    }\n  };\n};\n\nexport const getCategoryLength = (state: RootState) => {\n  return (state.products.filter((item: Product) => item.type === state.filterBy) || []).length;\n};\n\nexport const getVisibleProducts = (state: RootState) => {\n  let visibleProducts: Product[] = state.products.filter((item: Product) => {\n    if (state.filterBy !== '') {\n      return item.type === state.filterBy;\n    }\n\n    return item;\n  });\n\n  visibleProducts = visibleProducts.filter((item: Product) => {\n    if (state.searchQuery !== '') {\n      return item.name.toLowerCase().includes(state.searchQuery);\n    }\n\n    return item;\n  });\n\n  switch (state.sortBy) {\n    case SORT_BY.priceAsc:\n      visibleProducts.sort((a: Product, b: Product): number => (\n        (a.price - ((a.discount * a.price) / 100)) - (b.price - ((b.discount * b.price) / 100))\n      ));\n      break;\n\n    case SORT_BY.priceDesc:\n      visibleProducts.sort((a: Product, b: Product): number => (\n        (b.price - ((b.discount * b.price) / 100)) - (a.price - ((a.discount * a.price) / 100))\n      ));\n      break;\n\n    case SORT_BY.hotPrice:\n      visibleProducts\n        .sort((a: Product, b: Product): number => (\n          (b.discount / 100) * b.price) - ((a.discount / 100) * a.price));\n      break;\n\n    case SORT_BY.newModels:\n      visibleProducts\n        .sort((a: Product, b: Product): number => a.age - b.age);\n      break;\n\n    default:\n      break;\n  }\n\n  let endId = (state.pagination.perPage * state.pagination.page) - 1;\n  const startId = state.pagination.page === 1\n    ? state.pagination.page - 1\n    : (endId - state.pagination.perPage) + 1;\n\n  if (endId > visibleProducts.length) {\n    endId = visibleProducts.length;\n  }\n\n  return visibleProducts.filter((_product, index) => index >= startId && index <= endId);\n};\n\nexport const getCartTotal = (state: RootState) => {\n  let cartTotal = 0;\n\n  state.cart.forEach(cartProduct => {\n    cartTotal += cartProduct.product.price * cartProduct.quantity;\n  });\n\n  return cartTotal;\n};\n\nconst persistedState = localStorage.getItem('rootState')\n  ? JSON.parse(localStorage.getItem('rootState') || '')\n  : {};\n\nconst store = createStore(\n  rootReducer,\n  persistedState,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n\nstore.subscribe(() => {\n  localStorage.setItem('rootState', JSON.stringify(store.getState()));\n});\n\nexport default store;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Logo = () => {\n  return (\n    <Link to=\"/\" className=\"logo\">\n      <img src=\"./img/logo.svg\" alt=\"logo\" />\n    </Link>\n  );\n}\n\nexport default Logo;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toggleNavBurger } from '../store/burger';\nimport * as store from '../store';\nimport cn from 'classnames';\n\nconst NavBurger = () => {\n  const dispatch = useDispatch();\n  const burger = useSelector(store.getIsNavBurgerOpen);\n\n  return (\n    <button\n      className={cn('nav__burger burger', {\n        'burger--active': burger\n      })}\n      onClick={() => dispatch(toggleNavBurger(burger))}\n    >\n      <div className=\"burger__line\"></div>\n      <div className=\"burger__line\"></div>\n      <div className=\"burger__line\"></div>\n    </button>\n  );\n}\n\nexport default NavBurger;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport NavBurger from './NavBurger';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleNavBurger } from '../store/burger';\nimport * as store from '../store';\nimport cn from 'classnames';\n\ntype Props = {\n  links: NavLinkType[];\n};\n\nconst NavHeader: React.FC<Props> = ({ links }) => {\n  const dispatch = useDispatch();\n  const burger = useSelector(store.getIsNavBurgerOpen);\n\n  return (\n    <nav className=\"nav\">\n      <NavBurger />\n      <ul className={cn(\"nav__header-list\", {\n        'nav__header-list--active': burger\n      })}>\n        {links.map(({ title, url }) => (\n          <li\n            className=\"nav__header-item\"\n            key={title}\n          >\n            <NavLink\n              className=\"nav__header-link\"\n              exact={url === '/'}\n              activeClassName=\"nav__header-link--active\"\n              to={{\n                pathname: url,\n                search: '',\n              }}\n              onClick={() => {\n                window.scrollTo(0, 0);\n                if (window.innerWidth < 1024) {\n                  dispatch(toggleNavBurger(burger))\n                }\n              }}\n            >\n              {title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  )\n};\n\nexport default NavHeader;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport * as store from '../store';\n\nconst Favorites = () => {\n  const favoritesCount = (useSelector(store.getFavourites) || []).length;\n\n  return (\n    <div className=\"header__favorites favorites\">\n      <Link\n        className=\"favorites__link\"\n        to=\"/favorites\"\n      >\n        <span />\n        <span />\n        <span />\n        <span />\n        {favoritesCount !== 0 && (\n          <span className=\"favorites__counter\">\n            {favoritesCount}\n          </span>\n        )}\n      </Link>\n    </div>\n  );\n};\n\nexport default Favorites;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport * as store from '../store';\n\nconst Cart = () => {\n  const CartCount = (useSelector(store.getCart) || []).length;\n\n  return (\n    <div className=\"header__cart cart\">\n      <Link\n        className=\"cart__link\"\n        to=\"/cart\"\n      >\n        <span />\n        <span />\n        <span />\n        <span />\n        {CartCount !== 0 && (\n          <span className=\"cart__counter\">\n            {CartCount}\n          </span>\n        )}\n      </Link>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, {\n  useRef,\n  useState,\n  useCallback,\n  useEffect,\n} from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport './Search.scss';\nimport { setSearchQuery } from '../store/search';\nimport { debounce } from '../helpers/debounce';\n\ntype Props = {\n  currentLocation: string;\n};\n\nconst Search: React.FC<Props> = ({ currentLocation }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const inputEl = useRef<HTMLInputElement>(null);\n  const searchParams = new URLSearchParams(location.search);\n  const [query, setQuery] = useState(searchParams.get('search') || '');\n\n  const handleSearchInput = useCallback(debounce((value: string) => {\n    if (value) {\n      searchParams.set('query', value);\n    } else {\n      searchParams.delete('query');\n    }\n\n    dispatch(setSearchQuery(value));\n    history.push({\n      search: searchParams.toString(),\n    });\n  }, 300), []);\n\n  useEffect(() => {\n    handleSearchInput(query);\n  }, [query, handleSearchInput]);\n\n  useEffect(() => {\n    setSearchQuery('');\n    setQuery('');\n  }, [currentLocation]);\n\n  return (\n    <div className=\"header__search search\">\n      <input\n        className=\"search__input\"\n        ref={inputEl}\n        value={query}\n        type=\"text\"\n        onChange={e => {\n          handleSearchInput(e.currentTarget.value);\n          setQuery(e.currentTarget.value);\n        }}\n        placeholder={`Search in ${currentLocation}...`}\n      />\n      {query.length > 0 ? (\n        <button\n          className=\"search__delete-btn\"\n          type=\"button\"\n          onClick={() => {\n            setQuery('');\n            searchParams.delete('query');\n            history.push({\n              search: searchParams.toString(),\n            });\n            if (inputEl && inputEl.current) {\n              inputEl.current.focus();\n            }\n          }}\n        >\n          {' '}\n        </button>\n      ) : (\n          <span className=\"search__icon\" />\n        )}\n    </div>\n  );\n};\n\nexport default Search;\n","export function debounce(func: (...args: string[]) => void, delay: number) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  return (...args: string[]): void => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n\n    timeoutId = setTimeout(() => {\n      func(...args);\n    }, delay);\n  };\n}\n","import React, { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport Logo from './Logo';\nimport NavHeader from './NavHeader';\nimport Favorites from './Favorites';\nimport Cart from './Cart';\nimport Search from './Search';\nimport { } from '../constants/index';\n\nconst Header = () => {\n  const headerLinks: NavLinkType[] = [\n    { title: 'home', url: '/' },\n    { title: 'phones', url: '/phones' },\n    { title: 'tablets', url: '/tablets' },\n    { title: 'accessories', url: '/accessories' },\n  ];\n\n  const searchAvailable = [\n    'tablets',\n    'phones',\n    'accessories',\n  ];\n\n  const location = useLocation();\n  const currentLocation = useMemo(() => (\n    location.pathname\n      .split('/')\n      .slice(1)[0]\n  ), [location]);\n\n  const locationLength = location.pathname.split('/');\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__container\">\n        <Logo />\n        <NavHeader links={headerLinks} />\n      </div>\n      <div className=\"header__container\">\n        {searchAvailable.some(path => path === currentLocation\n          &&\n          locationLength.length < 3)\n          &&\n          (\n            <Search currentLocation={currentLocation} />\n          )}\n        <Favorites />\n        <Cart />\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\ntype Props = {\n  links: NavLinkType[];\n};\n\nconst NavFooter: React.FC<Props> = ({ links }) => (\n  <nav className=\"nav\">\n    <ul className=\"nav__footer-list\">\n      {links.map(({ title, url }) => (\n        <li\n          className=\"nav__footer-item\"\n          key={title}\n        >\n          <NavLink\n            className=\"nav__footer-link\"\n            exact\n            activeClassName=\"nav__footer-link--active\"\n            to={url}\n          >\n            {title}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  </nav>\n);\n\nexport default NavFooter;\n","import React, { useCallback, useState } from 'react';\nimport cn from 'classnames';\nimport Logo from './Logo';\n\nimport NavFooter from './NavFooter';\n\nconst Footer = () => {\n  const footerLinks: NavLinkType[] = [\n    { title: 'github', url: 'http://www.github.com' },\n    { title: 'contacts', url: '/contacts' },\n    { title: 'rights', url: '/rights' },\n  ]\n  const [isScroll, setIsScroll] = useState(false);\n\n  const backToTop = useCallback(\n    () => {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    }, []\n  );\n\n  window.onscroll = function () {\n    window.pageYOffset > 0\n      ?\n      setIsScroll(true)\n      :\n      setIsScroll(false)\n  };\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"container\">\n        <div className=\"footer__container\">\n          <Logo />\n          <NavFooter links={footerLinks} />\n          <div className={cn('footer__top-button-container', {\n            'footer__top-button-container--active': isScroll,\n          })}>\n            <span className=\"footer__top-button-text\">Back to top</span>\n            <div className=\"footer__top-button-wrap\">\n              <span></span>\n              <span></span>\n              <span></span>\n              <span></span>\n              <button\n                type=\"button\"\n                aria-label=\"Back to top\"\n                className=\"footer__top-button\"\n                onClick={backToTop}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  )\n};\n\nexport default Footer;\n","export const carouselSort = (products: Product[], sortType: string) => {\n  switch (sortType) {\n    case 'hotPrice':\n      return [...products]\n        .sort((a: Product, b: Product): number => (\n          ((b.discount / 100) * b.price) - ((a.discount / 100) * a.price))\n        );\n\n    case 'newModels':\n      return [...products]\n        .sort((a: Product, b: Product): number => (\n          a.age - b.age\n        ));\n\n    default:\n      return products;\n  }\n};\n","export const banners = [\n  {\n    id: 0,\n    url: 'img/banners/banner_1.jpg',\n    url768: 'img/banners/banner_1-768.jpg',\n    url560: 'img/banners/banner_1-560.jpg',\n    title: 'Iphone 11 PRO',\n    description: 'Revolutionary three-camera system - much more features and constant ease of use',\n  },\n  {\n    id: 1,\n    url: 'img/banners/banner_2.jpg',\n    url768: 'img/banners/banner_2-768.jpg',\n    url560: 'img/banners/banner_2-560.jpg',\n    title: 'Watch Series 5',\n    description: 'Сreated by the gods for your hand',\n  },\n  {\n    id: 2,\n    url: 'img/banners/banner_3.jpg',\n    url768: 'img/banners/banner_3-768.jpg',\n    url560: 'img/banners/banner_3-560.jpg',\n    title: 'Choose which iPad suits you',\n    description: 'All models are in stock!',\n  },\n  {\n    id: 3,\n    url: 'img/banners/banner_4.jpg',\n    url768: 'img/banners/banner_4-768.jpg',\n    url560: 'img/banners/banner_4-560.jpg',\n    title: 'AirPods Pro',\n    description: 'Active noise reduction for immersive sound',\n  },\n];\n","import React, { useState, useEffect } from 'react';\nimport cn from 'classnames';\nimport { banners } from '../helpers/banners';\n\nconst BannerSlider = () => {\n  const bannerWidth = 1104;\n  const frameSize = 1;\n  const [activeBanner, setActiveBanner] = useState(0);\n  const [position, setPosition] = useState(- activeBanner * bannerWidth);\n\n  const handleNextBanner = () => {\n    activeBanner === banners.length - 1\n      ?\n      setActiveBanner(0)\n      :\n      setActiveBanner(activeBanner + frameSize)\n  }\n\n  const handlePrevBanner = () => {\n    activeBanner === 0\n      ?\n      setActiveBanner(banners.length - 1)\n      :\n      setActiveBanner(activeBanner - frameSize)\n  }\n\n  useEffect(() => {\n    const nextFrame = setInterval(handleNextBanner, 5000);\n\n    return () => clearInterval(nextFrame);\n  });\n\n\n  useEffect(() => {\n    setPosition(- activeBanner * bannerWidth)\n  },\n    [activeBanner]\n  )\n\n  return (\n    <div className=\"slider__wrap\">\n      <div className=\"slider__container\">\n        <button\n          type=\"button\"\n          className=\"slider__button slider__button--left\"\n          onClick={handlePrevBanner}\n        >\n        </button>\n        <ul\n          className=\"slider__list\"\n          style={{ transform: `translateX(${position}px)` }}\n        >\n          {banners.map(banner => (\n            <li\n              className=\"slider__item\"\n              key={banner.id}\n            >\n              <picture>\n                <source srcSet={banner.url560} media=\"(max-width: 560px)\"/>\n                <source srcSet={banner.url768} media=\"(max-width: 768px)\"/>\n                <img\n                  className=\"slider__img\"\n                  src={banner.url}\n                  alt=\"banner\"\n                />\n              </picture>\n              <div className=\"slider__content\">\n                <h2 className=\"slider__title\">\n                  {banner.title}\n                </h2>\n                <p className=\"slider__description\">\n                  {banner.description}\n                </p>\n              </div>\n            </li>\n          ))}\n        </ul>\n        <button\n          type=\"button\"\n          className=\"slider__button slider__button--right\"\n          onClick={handleNextBanner}\n        >\n        </button>\n      </div>\n      <div className=\"slider__dots\">\n        {banners.map(banner => (\n          <button\n            type=\"button\"\n            aria-label={`Go to ${banner.id + 1} slide`}\n            key={banner.id}\n            className={cn('slider__dot', {\n              'slider__dot--active': activeBanner === banner.id\n            })}\n            onClick={() => setActiveBanner(banner.id)}\n          >\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default BannerSlider;\n","import React from 'react';\n\nconst ProductPrice = ({ price, discount }: ProductPriceProps) => (\n  <>\n    {discount ? (\n      <>\n        <div className=\"product__price\">\n          $\n          {price - ((discount * price) / 100)}\n        </div>\n        <div className=\"product__old-price\">\n          $\n          {price}\n        </div>\n      </>\n    ) : (\n        <div className=\"product__price\">\n          $\n          {price}\n        </div>\n      )}\n  </>\n);\n\nexport default ProductPrice;\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport * as store from '../store';\nimport { addToCart, removeFromCart } from '../store/cart';\n\ntype Props = {\n  product: Product;\n};\n\nconst AddProductBtn: React.FC<Props> = ({ product }) => {\n  const { id } = product;\n\n  const dispatch = useDispatch();\n  const cart = useSelector(store.getCart);\n  const isAddedToCart = cart.some((item: Cart) => item.id === id);\n  const [firstClick, setFirstClick] = useState(isAddedToCart);\n  const [cartButtonText, setCartButtonText] = useState(isAddedToCart ? 'Added to cart' : 'Add to cart');\n\n  return (\n    <button\n      className={classNames(\n        'product__button-buy',\n        { 'product__button-buy--active': isAddedToCart },\n        { 'product__button-buy--remove': firstClick },\n      )}\n      type=\"button\"\n      onClick={(e) => {\n        e.stopPropagation();\n\n        if (isAddedToCart) {\n          dispatch(removeFromCart(id));\n          setCartButtonText('Add to cart');\n          setFirstClick(false);\n        } else {\n          dispatch(addToCart(id, 1, product));\n          setCartButtonText('Added to cart');\n        }\n      }}\n\n      onMouseEnter={() => {\n        if (isAddedToCart) {\n          setCartButtonText('Remove');\n        }\n      }}\n\n      onMouseLeave={() => {\n        if (isAddedToCart) {\n          setCartButtonText('Added to cart');\n          setFirstClick(true);\n        }\n      }}\n    >\n      {cartButtonText}\n    </button>\n  );\n};\n\nexport default AddProductBtn;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport * as store from '../store';\nimport { addToFavourites, removeFromFavourites } from '../store/favourites';\n\ntype Props = {\n  product: Product;\n};\n\nconst FavoriteBtn: React.FC<Props> = ({ product }) => {\n  const { id } = product;\n\n  const dispatch = useDispatch();\n  const favourites = useSelector(store.getFavourites);\n  const isAddedToFavourites = favourites.some((item: Product) => item.id === id);\n\n  return (\n    <button\n      className={classNames(\n        'product__button-favorite',\n        { 'product__button-favorite--active': isAddedToFavourites },\n      )}\n      type=\"button\"\n      onClick={(e) => {\n        e.stopPropagation();\n\n        if (isAddedToFavourites) {\n          dispatch(removeFromFavourites(product));\n        } else {\n          dispatch(addToFavourites(product));\n        }\n      }}\n    >\n      {' '}\n    </button>\n  );\n};\n\nexport default FavoriteBtn;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { PRODUCT_PATHS } from '../constants';\nimport ProductPrice from './ProductPrice';\nimport AddProductBtn from './AddProductBtn';\nimport FavoriteBtn from './FavoriteBtn';\n\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n};\n\nconst ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    id,\n    name,\n    type,\n    imageUrl,\n    price,\n    discount,\n    screen,\n    capacity,\n    ram,\n  } = product;\n\n  const history = useHistory();\n  const handleClickToDetails = () => {\n    history.push(`/${PRODUCT_PATHS[type]}/${id}`);\n    window.scrollTo(0, 0);\n  };\n\n  return (\n    <article\n      className=\"product\"\n      onClick={handleClickToDetails}\n    >\n      <img\n        className=\"product__image\"\n        src={imageUrl}\n        alt={name}\n      />\n      <h2 className=\"product__title\">\n        {name}\n      </h2>\n      <div className=\"product__prices\">\n        <ProductPrice\n          price={price}\n          discount={discount}\n        />\n      </div>\n      <div className=\"product__divider\" />\n      <div className=\"product__spec spec\">\n        <div className=\"spec__container\">\n          <div className=\"spec__title\">\n            Screen\n          </div>\n          <div className=\"spec__info\">\n            {screen || '4.0 inches'}\n          </div>\n        </div>\n        <div className=\"spec__container\">\n          <div className=\"spec__title\">\n            Capacity\n          </div>\n          <div className=\"spec__info\">\n            {capacity || '1000 MB'}\n          </div>\n        </div>\n        <div className=\"spec__container\">\n          <div className=\"spec__title\">\n            RAM\n          </div>\n          <div className=\"spec__info\">\n            {ram || '128 MB'}\n          </div>\n        </div>\n      </div>\n      <div className=\"product__actions\">\n        <AddProductBtn\n          product={product}\n        />\n        <FavoriteBtn\n          product={product}\n        />\n      </div>\n    </article>\n  );\n};\n\nexport default ProductCard;\n","import React, { useState, useEffect } from 'react';\nimport ProductCard from './ProductCard';\n\ntype Props = {\n  title: string,\n  products: Product[],\n}\n\nconst ProductsСarousel: React.FC<Props> = ({ title, products }) => {\n  const cardWidth = 288;\n  const cardGap = 16;\n  const frameSize = 4;\n  const [position, setPosition] = useState(0);\n  const [disableLeftButton, setDisableLeftButton] = useState<boolean>(true);\n  const [disableRightButton, setDisableRightButton] = useState<boolean>(false);\n\n  const onLeftSlide = () => {\n    setPosition(position + (cardWidth + cardGap));\n  }\n\n  const onRightSlide = () => {\n    setPosition(position - (cardWidth + cardGap));\n  }\n\n  useEffect(() => {\n    position >= 0\n      ?\n      setDisableLeftButton(true)\n      :\n      setDisableLeftButton(false)\n\n    position <= -((products.length - frameSize) * (cardWidth + cardGap))\n      ?\n      setDisableRightButton(true)\n      :\n      setDisableRightButton(false)\n  }, [position, products])\n\n  return (\n    <>\n      <div className=\"сarousel__header-container\">\n        <h2 className=\"сarousel__header\">{title}</h2>\n        <div className=\"сarousel__controls\">\n          <button\n            type=\"button\"\n            className=\"сarousel__button сarousel__button--left\"\n            arial-label=\"Go to previous frame\"\n            onClick={onLeftSlide}\n            disabled={disableLeftButton}\n          >\n          </button>\n          <button\n            type=\"button\"\n            className=\"сarousel__button\"\n            arial-label=\"Go to next frame\"\n            onClick={onRightSlide}\n            disabled={disableRightButton}\n          >\n          </button>\n        </div>\n      </div>\n      <div className=\"сarousel__container\">\n        <div className=\"сarousel__list\" style={{ transform: `translateX(${position}px)` }}>\n          {products.map(product => (\n            <ProductCard\n              product={product}\n              key={product.id}\n            />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ProductsСarousel;\n","export const categoriesFilter = (products: Product[], filterType: string) => {\n  switch (filterType) {\n    case 'phone':\n      return [...products]\n        .filter((product: Product) => (\n          product.type === 'phone'\n        ));\n\n    case 'tablet':\n      return [...products]\n        .filter((product: Product) => (\n          product.type === 'tablet'\n        ));\n\n    case 'accessories':\n      return [...products]\n        .filter((product: Product) => (\n          product.type === 'accessories'\n        ));\n\n    default:\n      return products;\n  }\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Category: React.FC<Category> = ({ title, link, count }) => {\n  const handleClickToDetails = () => {\n    window.scrollTo(0, 0);\n  };\n\n  return (\n    <Link\n      to={`/${link}`}\n      className=\"categories__link\"\n      onClick={handleClickToDetails}\n    >\n      <div className=\"categories__photo\">\n        <img\n          src={`./img/categories/${link}.jpg`}\n          className=\"categories__img\"\n          alt={title}\n        />\n      </div>\n      <h3 className=\"categories__title\">{title}</h3>\n      <span className=\"categories__count\">\n        {`${count} models`}\n      </span>\n    </Link>\n  );\n}\n\nexport default Category;\n","import React from 'react';\nimport { FILTERS } from '../constants';\nimport { categoriesFilter } from '../helpers/categoriesFilter';\nimport Category from './Category';\n\ntype Props = {\n  products: Product[];\n}\n\nconst Categories: React.FC<Props> = ({ products }) => {\n  const filtredPhonesCount = categoriesFilter(products, FILTERS.phones)\n    .length\n  const filtredTabletsCount = categoriesFilter(products, FILTERS.tablets)\n    .length\n  const filtredAccessoriesCount = categoriesFilter(products, FILTERS.accessories)\n    .length\n\n  const categories: Category[] = [\n    { title: 'Mobile phones', link: 'phones', count: filtredPhonesCount },\n    { title: 'Tablets', link: 'tablets', count: filtredTabletsCount },\n    { title: 'Accessories', link: 'accessories', count: filtredAccessoriesCount },\n  ];\n\n  return (\n    <>\n      <h2 className=\"categories__header\">Shop by category</h2>\n      <ul className=\"categories__list\">\n        {categories.map(({ title, link, count }) => (\n          <li className=\"categories__item\" key={title}>\n            <Category\n              title={title}\n              link={link}\n              count={count}\n            />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default Categories;\n\n","import React from 'react';\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n  );\n}\n\nexport default Spinner;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { SORT_BY } from '../constants';\nimport { carouselSort } from '../helpers/carouselSort';\n\nimport * as store from '../store';\n\nimport BannerSlider from '../components/BannerSlider';\nimport ProductsСarousel from '../components/ProductsСarousel';\nimport Categories from '../components/Categories';\nimport Spinner from '../components/Spinner';\n\ntype Props = {\n  products: Product[];\n};\n\nconst HomePage: React.FC<Props> = ({ products }) => {\n  const hotPrices = carouselSort(products, SORT_BY.hotPrice);\n  const newBrands = carouselSort(products, SORT_BY.newModels);\n  const loading = useSelector(store.getIsLoading);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        <>\n          <h1 className=\"visually-hidden\">Products Catalog</h1>\n          <section className=\"section slider\">\n            <BannerSlider />\n          </section>\n          <section className=\"section сarousel\">\n            <ProductsСarousel\n              title=\"Hot prices\"\n              products={hotPrices}\n            />\n          </section>\n          <section className=\"section categories\">\n            <Categories products={products} />\n          </section>\n          <section className=\"section сarousel\">\n            <ProductsСarousel\n              title=\"Brand new models\"\n              products={newBrands}\n            />\n          </section>\n        </>\n      }\n    </>\n  );\n};\n\nexport default HomePage;\n","import React, { useState, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport { useDispatch } from 'react-redux';\n\nimport './CartItem.scss';\n\nimport { setCartAmount, removeFromCart } from '../store/cart';\n\ntype Props = {\n  product: Product;\n  quantity: number;\n};\n\nconst CartItem: React.FC<Props> = ({ product, quantity }) => {\n  const {\n    id,\n    name,\n    price,\n    imageUrl,\n  } = product;\n  const dispatch = useDispatch();\n  const [inputQuantity, setInputQuantity] = useState(String(quantity));\n  const inputEl = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    setInputQuantity(String(quantity));\n  }, [quantity]);\n\n  return (\n    <li className=\"cart__item\">\n      <button\n        className=\"cart__item-remove\"\n        type=\"button\"\n        onClick={() => dispatch(removeFromCart(id))}\n      >\n        {' '}\n      </button>\n      <div>\n        <img\n          className=\"cart__item-image\"\n          src={imageUrl}\n          alt={name}\n        />\n      </div>\n      <div className=\"cart__item-title\">\n        {name}\n      </div>\n      <div className=\"cart__item-actions\">\n        <button\n          className={classNames(\n            'cart__item-button-minus',\n            { 'cart__item-button-minus--disabled': quantity === 1 },\n          )}\n          type=\"button\"\n          onClick={() => dispatch(setCartAmount(id, quantity - 1))}\n        >\n          {' '}\n        </button>\n        <div className=\"cart__item-quantity\">\n          <input\n            className=\"cart__item-quantity-input\"\n            type=\"text\"\n            maxLength={2}\n            ref={inputEl}\n            value={inputQuantity}\n            onChange={e => {\n              if (!Number(e.target.value)) {\n                setInputQuantity('');\n\n                return;\n              }\n\n              setInputQuantity(e.target.value);\n            }}\n            onKeyUp={e => {\n              if (e.key === 'Enter') {\n                dispatch(setCartAmount(id, +inputQuantity ? +inputQuantity : 1));\n                inputEl.current?.blur();\n              }\n            }}\n            onClick={() => setInputQuantity('')}\n            onBlur={(e) => {\n              if (e.target.value === '') {\n                setInputQuantity(String(quantity));\n\n                return;\n              }\n\n              dispatch(setCartAmount(id, +e.target.value));\n            }}\n          />\n        </div>\n        <button\n          className={classNames(\n            'cart__item-button-plus',\n            { 'cart__item-button-plus--disabled': quantity === 99 },\n          )}\n          type=\"button\"\n          onClick={() => dispatch(setCartAmount(id, quantity + 1))}\n        >\n          {' '}\n        </button>\n      </div>\n      <div className=\"cart__item-price\">\n        {`$${price}`}\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  CSSTransition,\n  TransitionGroup,\n} from 'react-transition-group';\n\nimport './CartList.scss';\nimport * as store from '../store';\nimport CartItem from './CartItem';\n\nconst CartList = () => {\n  const cart = useSelector(store.getCart);\n\n  return (\n    <ul>\n      <TransitionGroup tag=\"ul\" className=\"cart__list\">\n        {cart.map(cartProduct => (\n          <CSSTransition\n            key={cartProduct.id}\n            timeout={300}\n            classNames=\"cart-item\"\n          >\n            <CartItem\n              key={cartProduct.id}\n              product={cartProduct.product}\n              quantity={cartProduct.quantity}\n            />\n          </CSSTransition>\n        ))}\n\n      </TransitionGroup>\n    </ul>\n  );\n};\n\nexport default CartList;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport './CartPage.scss';\n\nimport * as store from '../store';\nimport CartList from '../components/CartList';\nimport { clearCart } from '../store/cart';\nimport Spinner from '../components/Spinner';\n\nconst CartPage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const totalCart = useSelector(store.getCartTotal);\n  const cartLength = useSelector(store.getCartLength);\n  const loading = useSelector(store.getIsLoading);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        <div className=\"cart-page\">\n          <button\n            type=\"button\"\n            className=\"cart-page__link\"\n            onClick={history.goBack}\n          >\n            Back\n          </button>\n          <h1 className=\"cart-page__title\">\n            Cart\n          </h1>\n          {cartLength !== 0 ? (\n            <div className=\"cart-page__container\">\n              <CartList />\n              <div className=\"cart-page__total\">\n                <div className=\"cart-page__total-container\">\n                  <div className=\"cart-page__total-price\">\n                    $\n                    {totalCart}\n                  </div>\n                  <div className=\"cart-page__total-text\">\n                    {`Total for ${cartLength} items`}\n                  </div>\n                  <span className=\"cart-page__total-devider\" />\n                  <button\n                    className=\"cart-page__total-checkout\"\n                    type=\"button\"\n                    onClick={() => {\n                      history.push('/checkout');\n                      dispatch(clearCart());\n                    }}\n                  >\n                    Checkout\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n              <div className=\"cart-page__message\">\n                Your cart is empty\n              </div>\n            )}\n        </div>\n      }\n    </>\n  );\n};\n\nexport default CartPage;\n","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport './Pagination.scss';\nimport classNames from 'classnames';\nimport { useHistory, useLocation } from 'react-router-dom';\n\ntype Props = {\n  total: number;\n  perPage: number;\n  page: number;\n};\n\nconst Pagination: React.FC<Props> = ({ page, total, perPage }) => {\n  const pagesCount = Math.ceil(total / perPage);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const moveToPage = (pageNumber: number) => {\n    searchParams.set('page', String(pageNumber));\n    history.push({ search: searchParams.toString() });\n  };\n\n  const pagesOptions = [...Array.from({ length: pagesCount }, (_e, i) => i + 1)];\n\n  return (\n    <div className=\"pagination\">\n      <button\n        type=\"button\"\n        className={\n          classNames(\n            'pagination__button',\n            'pagination__button--prev',\n            { 'pagination__button--active': page === 1 },\n          )\n        }\n        disabled={page === 1}\n        onClick={() => moveToPage(page - 1)}\n      >\n        {' '}\n      </button>\n      {\n        pagesOptions.map(pageNumber => (\n          <button\n            type=\"button\"\n            className={\n              classNames(\n                'pagination__button-page',\n                { 'pagination__button-page--active': pageNumber === page },\n              )\n            }\n            key={uuidv4()}\n            onClick={() => moveToPage(pageNumber)}\n            disabled={pageNumber === page}\n          >\n            {pageNumber}\n          </button>\n        ))\n      }\n      <button\n        type=\"button\"\n        className={\n          classNames(\n            'pagination__button',\n            'pagination__button--next',\n            { 'pagination__button--active': page === pagesOptions.length },\n          )\n        }\n        onClick={() => moveToPage(page + 1)}\n        disabled={page === pagesOptions.length}\n      >\n        {' '}\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React, { useMemo, useEffect, useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\n\nimport './ProductsList.scss';\nimport * as store from '../store';\nimport { setFilterBy } from '../store/filter';\nimport { setSortBy } from '../store/sort';\nimport { SORT_BY } from '../constants';\nimport { setPage, setPerPage } from '../store/pagination';\nimport ProductCard from './ProductCard';\nimport Pagination from './Pagination';\n\ntype Props = {\n  filter: string;\n};\n\nconst sortByTitles: SortTitles = {\n  priceAsc: 'Price: Low to High',\n  priceDesc: 'Price: High to Low',\n  hotPrice: 'Hot Prices',\n  newModels: 'Newest Arrivals',\n};\n\n\nconst ProductsList: React.FC<Props> = ({ filter }) => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const categoryLength = useSelector(store.getCategoryLength);\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy') || SORT_BY.newModels;\n  const perPage = +(searchParams.get('perPage') || categoryLength);\n  const visibleProducts = useSelector(store.getVisibleProducts);\n  const page = +((searchParams.get('page')) || 1);\n  const searchQuery = useSelector(store.getSearchQuery);\n  const [showSortBy, setShowSortBy] = useState(false);\n  const [showPerPage, setShowPerPage] = useState(false);\n\n  useEffect(() => {\n    dispatch(setSortBy(sortBy));\n  }, [dispatch, sortBy]);\n\n  useEffect(() => {\n    dispatch(setPage(page));\n  }, [dispatch, page]);\n\n  useEffect(() => {\n    dispatch(setFilterBy(filter));\n  }, [dispatch, filter]);\n\n  useEffect(() => {\n    dispatch(setPerPage(perPage));\n  }, [dispatch, perPage]);\n\n  const perPageOptions = useMemo(() => {\n    const productsAmount = categoryLength;\n    const options = [];\n\n    for (let i = 4; i < productsAmount; i *= 2) {\n      options.push(i);\n    }\n\n    return options.length === 0 ? [4] : options;\n  }, [categoryLength]);\n\n  useEffect(() => {\n    let urlParamError = false;\n\n    if (categoryLength > 0 && page > categoryLength / perPage) {\n      searchParams.delete('page');\n      searchParams.delete('perPage');\n      urlParamError = true;\n    }\n\n    if (\n      (perPage > categoryLength && categoryLength > 0)\n      || !(perPageOptions.includes(+perPage) || perPage === categoryLength)\n    ) {\n      searchParams.delete('page');\n      searchParams.delete('perPage');\n      urlParamError = true;\n    }\n\n    if (page !== Math.trunc(page)) {\n      searchParams.delete('page');\n      searchParams.delete('perPage');\n      urlParamError = true;\n    }\n\n    if (urlParamError) {\n      history.push({\n        search: searchParams.toString(),\n      });\n    }\n    // eslint-disable-next-line\n  }, [page, perPage]);\n\n  const sortByHandler = (sortType: string) => {\n    if (showSortBy) {\n      dispatch(setSortBy(sortType));\n      setShowSortBy(false);\n      searchParams.set('sortBy', sortType);\n      searchParams.set('page', String(1));\n      history.push({\n        search: searchParams.toString(),\n      });\n    }\n  };\n\n  const handlePerPage = (perPageOption: number) => {\n    if (showPerPage) {\n      dispatch(setPerPage(perPageOption));\n      setShowPerPage(false);\n      searchParams.set('perPage', String(perPageOption));\n      searchParams.set('page', String(1));\n      history.push({\n        search: searchParams.toString(),\n      });\n    }\n  };\n\n  return (\n    <div className=\"products\">\n      <div className=\"products__subtitle\">\n        {\n          (visibleProducts && searchQuery === '')\n            ? `${categoryLength} models`\n            : `${visibleProducts.length} results`\n        }\n      </div>\n      {(searchQuery === '' && visibleProducts.length !== 0) && (\n        <div className=\"products__filters\">\n          <div className=\"products__filter\">\n            <div className=\"products__filter-title\">\n              Sort by\n            </div>\n            <div\n              className={classNames(\n                'products__dropdown',\n                { 'products__dropdown--active': showSortBy },\n              )}\n              onClick={() => setShowSortBy(!showSortBy)}\n            >\n              {sortByTitles[sortBy]}\n            </div>\n            <ul\n              className={classNames(\n                'products__dropdown-list',\n                { 'products__dropdown-list--active': showSortBy },\n              )}\n            >\n              {Object.values(SORT_BY).map(sortType => (\n                <li\n                  className={classNames(\n                    'products__dropdown-item',\n                    { 'products__dropdown-item--active': sortType === sortBy },\n                  )}\n                  onClick={() => sortByHandler(sortType)}\n                  key={sortType}\n                >\n                  {sortByTitles[sortType]}\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"products__filter\">\n            <div className=\"products__filter-title\">\n              Items on page\n            </div>\n            <div\n              className={classNames(\n                'products__dropdown',\n                { 'products__dropdown--active': showPerPage },\n              )}\n              onClick={() => setShowPerPage(!showPerPage)}\n            >\n              {categoryLength === visibleProducts.length ? 'All' : perPage}\n            </div>\n            <ul\n              className={classNames(\n                'products__dropdown-list',\n                { 'products__dropdown-list--active': showPerPage },\n              )}\n            >\n              <li\n                className={classNames(\n                  'products__dropdown-item',\n                  { 'products__dropdown-item--active': categoryLength === visibleProducts.length },\n                )}\n                onClick={() => handlePerPage(categoryLength)}\n              >\n                All\n              </li>\n              {perPageOptions.map(perPageOption => {\n                if (perPageOption !== categoryLength) {\n                  return (\n                    (\n                      <li\n                        className={classNames(\n                          'products__dropdown-item',\n                          { 'products__dropdown-item--active': perPageOption === perPage },\n                        )}\n                        onClick={() => handlePerPage(perPageOption)}\n                        key={perPageOption}\n                      >\n                        {perPageOption}\n                      </li>\n                    )\n                  );\n                }\n\n                return false;\n              })}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      <div className=\"products__list\">\n        {visibleProducts.map(product => (\n          <ProductCard key={product.id} product={product} />\n        ))}\n      </div>\n      {(categoryLength !== visibleProducts.length && searchQuery === '') && (\n        <Pagination\n          total={categoryLength}\n          perPage={perPage}\n          page={page}\n        />\n      )}\n\n      {searchQuery !== '' && visibleProducts.length === 0 && (\n        <div className=\"products__search\">\n          <div className=\"products__search-title\">\n            No items were found for\n            <span className=\"products__search-query\">\n              {` \"${searchQuery}\"`}\n            </span>\n          </div>\n          <div className=\"products__search-subtitle\">\n            Please try another search.\n          </div>\n        </div>\n      )}\n\n      {searchQuery === '' && visibleProducts.length === 0 && (\n        <div className=\"products__message\">\n          No items in category\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsList;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\ntype Props = {\n  label: string;\n  link: string;\n  isLast: boolean;\n}\n\nconst Breadcrumb: React.FC<Props> = ({ label, link, isLast }) => (\n  <li className=\"breadcrumbs__item\">\n    <span className=\"breadcrumbs__arrow\" />\n    {isLast\n      ? <span className=\"breadcrumbs__last\">{label}</span>\n      : (\n        <NavLink\n          to={link}\n          className=\"breadcrumbs__link\"\n          activeClassName=\"breadcrumbs__link--active\"\n        >\n          {label}\n        </NavLink>\n      )\n    }\n  </li>\n);\n\nexport default Breadcrumb;\n","import React, { useMemo } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport Breadcrumb from './Breadcrumb';\n\nconst Breadcrumbs = () => {\n  const location = useLocation();\n  const preparedLabels = useMemo(() => (\n    location.pathname\n      .split('/')\n      .slice(1)\n  ), [location]);\n\n  const preparedBreadcrumbs = useMemo(() => (\n    preparedLabels\n      .reduce((accum: string[], item) => [...accum, `${accum}/${item}`], [])\n  ), [preparedLabels]);\n\n  return (\n    <ul className=\"breadcrumbs\">\n      <NavLink\n        to=\"/\"\n        className=\"breadcrumbs__item breadcrumbs__home\"\n        activeClassName=\"breadcrumb__link--active\"\n      />\n      {preparedBreadcrumbs.map((crumb, index) => (\n        <Breadcrumb\n          label={preparedLabels[index]}\n          link={crumb}\n          key={crumb}\n          isLast={index === preparedBreadcrumbs.length - 1}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Breadcrumbs;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as store from '../store';\n\nimport ProductsList from '../components/ProductsList';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport Spinner from '../components/Spinner';\n\ntype Props = {\n  filter: string;\n};\n\nconst PhonesPage: React.FC<Props> = ({ filter }) => {\n  const searchQuery = useSelector(store.getSearchQuery);\n  const loading = useSelector(store.getIsLoading);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        <>\n          {searchQuery === '' && (\n            <>\n              <Breadcrumbs />\n              <h1 className=\"page__title\">\n                Mobile phones\n          </h1>\n            </>\n          )}\n          <ProductsList filter={filter} />\n        </>\n      }\n    </>\n  );\n};\n\nexport default PhonesPage;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as store from '../store';\nimport ProductsList from '../components/ProductsList';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport Spinner from '../components/Spinner';\n\ntype Props = {\n  filter: string;\n};\n\nconst TabletsPage: React.FC<Props> = ({ filter }) => {\n  const searchQuery = useSelector(store.getSearchQuery);\n  const loading = useSelector(store.getIsLoading);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        <>\n          {searchQuery === '' && (\n            <>\n              <Breadcrumbs />\n              <h1 className=\"page__title\">\n                Tablets\n          </h1>\n            </>\n          )}\n          <ProductsList filter={filter} />\n        </>\n      }\n    </>\n  );\n};\n\nexport default TabletsPage;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport './NotFoundPage.scss';\n\nconst NotFoundPage = () => {\n  const history = useHistory();\n\n  return (\n    <div className=\"notfound\">\n      <div className=\"notfound__message\">\n        <h2 className=\"notfound__message-title\">\n          Oops!\n        </h2>\n        <p className=\"notfound__message-text\">\n          We can't seem to find the page you're looking for\n        </p>\n        <button\n          type=\"button\"\n          className=\"notfound__link\"\n          onClick={() => history.push('/')}\n        >\n          Back to Main Page\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport './CheckoutPage.scss';\n\nconst CheckoutPage = () => {\n  const history = useHistory();\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__message\">\n        Thank you for your order!\n        <button\n          type=\"button\"\n          className=\"checkout__link\"\n          onClick={() => history.push('/')}\n        >\n          Back to Main Page\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutPage;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  CSSTransition,\n  TransitionGroup,\n} from 'react-transition-group';\n\nimport './FavoritesPage.scss';\nimport * as store from '../store';\nimport ProductCard from '../components/ProductCard';\nimport Breadcrumbs from '../components/Breadcrumbs';\n\nconst FavoritesPage = () => {\n  const favourites = useSelector(store.getFavourites);\n\n  return (\n    <>\n      <div className=\"favourites\">\n        <Breadcrumbs />\n        <h1 className=\"favourites__title\">\n          Favourites\n        </h1>\n        {favourites.length > 0 ? (\n          <TransitionGroup className=\"favourites__list\">\n            {favourites.map(favouriteProduct => (\n              <CSSTransition\n                key={favouriteProduct.id}\n                timeout={300}\n                classNames=\"fav-item\"\n              >\n                <ProductCard\n                  key={favouriteProduct.id}\n                  product={favouriteProduct}\n                />\n              </CSSTransition>\n            ))}\n          </TransitionGroup>\n        ) : (\n          <div className=\"favourites__message\">\n            No favorites yet\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default FavoritesPage;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as store from '../store';\nimport ProductsList from '../components/ProductsList';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport Spinner from '../components/Spinner';\n\ntype Props = {\n  filter: string;\n};\n\nconst AccessoriesPage: React.FC<Props> = ({ filter }) => {\n  const searchQuery = useSelector(store.getSearchQuery);\n  const loading = useSelector(store.getIsLoading);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        <>\n          {searchQuery === '' && (\n            <>\n              <Breadcrumbs />\n              <h1 className=\"page__title\">\n                Accessories\n          </h1>\n            </>\n          )}\n          <ProductsList filter={filter} />\n        </>\n      }\n    </>\n  );\n};\n\nexport default AccessoriesPage;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst GoBackButton = () => {\n  const history = useHistory();\n  const goBack = () => history.goBack();\n\n  return (\n    <button\n      type=\"button\"\n      className=\"product-details__button-back button-back\"\n      onClick={goBack}\n    >\n      Back\n    </button>\n  );\n};\n\nexport default GoBackButton;\n","import React, { useState } from 'react';\nimport cn from 'classnames';\n\nconst ProductGallery = ({ images, title }: ProductGalleryProps) => {\n  const [currentImg, setCurrentImg] = useState(0);\n\n  return (\n    images &&\n    <>\n      <ul className=\"gallery__thumbnails\">\n        {images.map((link, index) => (\n          <li\n            className={cn(\"gallery__thumbnail\", {\n              'gallery__thumbnail--active': index === currentImg\n            })}\n            key={link}\n          >\n            <a\n              href=\"#!\"\n              className=\"gallery__link\"\n              onClick={(e: React.MouseEvent<HTMLAnchorElement>) => {\n                e.preventDefault();\n                setCurrentImg(index);\n              }}\n            >\n              <img\n                src={link}\n                alt={`${title} - ${index + 1}`}\n                className=\"gallery__img\"\n              />\n            </a>\n          </li>\n        ))}\n      </ul>\n      <div className=\"gallery__photo\">\n        <img\n          className=\"gallery__img\"\n          src={images[currentImg]}\n          alt={title}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default ProductGallery;\n","import React from 'react';\n\nconst ProductDescription = ({\n  description,\n  additionalFeatures,\n}: ProductDetails) => {\n\n  return (\n    <>\n      <h3 className=\"product-details__title\">About</h3>\n      <p className=\"product-details__text\">\n        {description}\n      </p>\n      {additionalFeatures && (\n        <>\n          <h3 className=\"product-details__subtitle\">Features</h3>\n          <p className=\"product-details__text\">\n            {additionalFeatures}\n          </p>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ProductDescription;\n","import React from 'react';\n\nconst ProductTechSpecs = ({\n  display,\n  hardware,\n  storage,\n  camera,\n  battery,\n  sizeAndWeight,\n}: ProductDetails) => {\n\n  return (\n    display &&\n    <>\n      <h3 className=\"product-details__title\">Tech specs</h3>\n      <div className=\"product-details__spec spec spec--text-md\">\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Screen</span>\n          <span className=\"spec__info\">\n            {display.screenSize}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Resolution</span>\n          <span className=\"spec__info\">\n            {display.screenResolution}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Processor</span>\n          <span className=\"spec__info\">\n            {hardware.cpu}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">RAM</span>\n          <span className=\"spec__info\">\n            {storage.ram || '1000 MB'}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Storage</span>\n          <span className=\"spec__info\">\n            {storage.flash || '32000MB'}\n          </span>\n        </div>\n\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Camera</span>\n          <span className=\"spec__info\">\n            {camera.primary}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Battery</span>\n          <span className=\"spec__info\">\n            {battery.type}\n          </span>\n        </div>\n        <div className=\"spec__container\">\n          <span className=\"spec__title\">Weight</span>\n          <span className=\"spec__info\">\n            {sizeAndWeight.weight}\n          </span>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ProductTechSpecs;\n","import React from 'react';\n\nconst ProductShortSpecs = ({\n  display,\n  hardware,\n  storage,\n}: ProductDetails) => {\n\n  return (\n    display &&\n    <div className=\"product-details__spec spec\">\n      <div className=\"spec__container\">\n        <span className=\"spec__title\">Screen</span>\n        <span className=\"spec__info\">\n          {display.screenSize}\n        </span>\n      </div>\n      <div className=\"spec__container\">\n        <span className=\"spec__title\">Resolution</span>\n        <span className=\"spec__info\">\n          {display.screenResolution}\n        </span>\n      </div>\n      <div className=\"spec__container\">\n        <span className=\"spec__title\">Processor</span>\n        <span className=\"spec__info\">\n          {hardware.cpu}\n        </span>\n      </div>\n      <div className=\"spec__container\">\n        <span className=\"spec__title\">RAM</span>\n        <span className=\"spec__info\">\n          {storage.ram || '128 MB'}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductShortSpecs;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './ProductDetailsPage.scss';\n\nimport * as store from '../store';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport GoBackButton from '../components/GoBackButton';\nimport ProductGallery from '../components/ProductGallery';\nimport ProductDescription from '../components/ProductDescription';\nimport ProductTechSpecs from '../components/ProductTechSpecs';\nimport ProductPrice from '../components/ProductPrice';\nimport ProductsСarousel from '../components/ProductsСarousel';\nimport AddProductBtn from '../components/AddProductBtn';\nimport FavoriteBtn from '../components/FavoriteBtn';\nimport ProductShortSpecs from '../components/ProductShortSpecs';\nimport Spinner from '../components/Spinner';\n\nconst ProductDetailsPage = () => {\n  const dispatch = useDispatch();\n  const { productId } = useParams();\n  const products = useSelector(store.getProducts)\n  const productsDetails = useSelector(store.getproductsDetails)\n  const loading = useSelector(store.getIsLoading);\n\n  const [product, setProduct] = useState<Product>();\n\n  useEffect(() => {\n    if (products.length) {\n      const currentProduct = products.find(product => (product.id === productId))\n      setProduct(currentProduct);\n    }\n  }, [products, productId]);\n\n  useEffect(() => {\n    dispatch(store.loadProductsDetails(productId));\n  }, [dispatch, productId]);\n\n  return (\n    <>\n      {loading\n        ?\n        <Spinner />\n        :\n        product &&\n        <>\n          <section className=\"section product-details\">\n            <Breadcrumbs />\n            <GoBackButton />\n            <h1 className=\"page__title\">{productsDetails.name}</h1>\n            <div className=\"product-details__container\">\n              <div className=\"product-details__column\">\n                <div className=\"product-details__gallery gallery\">\n                  <ProductGallery\n                    images={productsDetails.images}\n                    title={productsDetails.name}\n                  />\n                </div>\n              </div>\n              <div className=\"product-details__column\">\n                <div className=\"product-details__flex-wrap\">\n                  <div className=\"product-details__wrap\">\n                    <div className=\"product-details__prices product__prices\">\n                      <ProductPrice\n                        price={product.price}\n                        discount={product.discount}\n                      />\n                    </div>\n                    <div className=\"product-details__buttons product__actions\">\n                      <AddProductBtn\n                        product={product}\n                      />\n                      <FavoriteBtn\n                        product={product}\n                      />\n                    </div>\n                    <ProductShortSpecs {...productsDetails} />\n                  </div>\n                  <span className=\"product-details__id\">\n                    {`ID: ${product.id}`}\n                  </span>\n                </div>\n              </div>\n              <div className=\"product-details__column\">\n                <ProductDescription {...productsDetails} />\n              </div>\n              <div className=\"product-details__column\">\n                <ProductTechSpecs {...productsDetails} />\n              </div>\n            </div>\n          </section>\n          <section className=\"section сarousel\">\n            <ProductsСarousel products={products} title={'You may also like'} />\n          </section>\n        </>\n      }\n    </>\n  );\n}\n\nexport default ProductDetailsPage;\n","import React, { useEffect } from 'react';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  useLocation,\n} from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nimport * as store from './store';\nimport { FILTERS } from './constants';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nimport './App.scss';\n\nimport HomePage from './pages/HomePage';\nimport CartPage from './pages/CartPage';\nimport PhonesPage from './pages/PhonesPage';\nimport TabletsPage from './pages/TabletsPage';\nimport NotFoundPage from './pages/NotFoundPage';\nimport CheckoutPage from './pages/CheckoutPage';\nimport FavoritesPage from './pages/FavoritesPage';\nimport AccessoriesPage from './pages/AccessoriesPage';\nimport ProductDetailsPage from './pages/ProductDetailsPage';\n\n\nconst App = () => {\n  const products = useSelector(store.getProducts);\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  useEffect(() => {\n    dispatch(store.loadProducts());\n  }, [dispatch]);\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <main>\n        <div className=\"container\">\n          <TransitionGroup className=\"transition-group\">\n            <CSSTransition\n              key={location.pathname}\n              timeout={{ enter: 300, exit: 300 }}\n              classNames=\"fade\"\n            >\n              <section className=\"route-section\">\n                <Switch\n                  location={location}\n                >\n                  <Redirect from=\"/home\" to=\"/\" />\n                  <Route path=\"/\" exact>\n                    <HomePage\n                      products={products}\n                    />\n                  </Route>\n                  <Route path=\"/:productType/:productId\">\n                    <ProductDetailsPage />\n                  </Route>\n                  <Route path=\"/phones\">\n                    <PhonesPage\n                      filter={FILTERS.phones}\n                    />\n                  </Route>\n                  <Route path=\"/tablets\">\n                    <TabletsPage\n                      filter={FILTERS.tablets}\n                    />\n                  </Route>\n                  <Route path=\"/accessories\">\n                    <AccessoriesPage\n                      filter={FILTERS.accessories}\n                    />\n                  </Route>\n                  <Route path=\"/cart\" component={CartPage} />\n                  <Route path=\"/favorites\" component={FavoritesPage} />\n                  <Route path=\"/checkout\" component={CheckoutPage} />\n                  <Route component={NotFoundPage} />\n                </Switch>\n              </section>\n            </CSSTransition>\n          </TransitionGroup>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}